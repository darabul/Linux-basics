# Операционные системы UNIX/Linux (Базовый).

Установка и обновления системы Linux. Основы администрирования.

## Cписок задач

  1. [Установка ОС](#part-1-установка-ос)  
  2. [Создание пользователя](#part-2-создание-пользователя)  
  3. [Настройка сети ОС](#part-3-настройка-сети-ос)   
  4. [Обновление ОС](#part-4-обновление-ос)  
  5. [Использование команды  sudo](#part-5-использование-команды-sudo)  
  6. [Установка и настройка службы времени](#part-6-установка-и-настройка-службы-времени)  
  7. [Установка и использование текстовых редакторов](#part-7-установка-и-использование-текстовых-редакторов)  
  8. [Установка и базовая настройка сервиса SSHD](#part-8-установка-и-базовая-настройка-сервиса-sshd)   
  9. [Установка и использование утилит top, htop](#part-9-установка-и-использование-утилит-top-htop)   
  10. [Использование утилиты fdisk](#part-10-использование-утилиты-fdisk)   
  11. [Использование утилиты df](#part-11-использование-утилиты-df)    
  12. [Использование утилиты du](#part-12-использование-утилиты-du)    
  13. [Установка и использование утилиты ncdu](#part-13-установка-и-использование-утилиты-ncdu)    
  14. [Работа с системными журналами](#part-14-работа-с-системными-журналами)     
  15. [Использование планировщика заданий CRON](#part-15-использование-планировщика-заданий-cron)    




Результат работы представлен в виде отчета по выполненным задачам. В каждой части задания указано, что должно быть помещено в отчёт после её выполнения. Это могут быть скриншоты, какие-то данные и т.д.

## Part 1. Установка ОС


##### Установить **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)

- Графический интерфейс должен отсутствовать.

- Узнать версию Ubuntu.

## Part 2. Создание пользователя



##### Создать пользователя, отличного от пользователя, который создавался при установке. Пользователь должен быть добавлен в группу `adm`.



## Part 3. Настройка сети ОС

 

##### 1. Задать название машины вида user-1  
##### 2. Установить временную зону, соответствующую вашему текущему местоположению.  
##### 3. Вывести названия сетевых интерфейсов с помощью консольной команды.

##### 4. Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера. 
##### 5. Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
##### 6. Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  
##### 7. Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  


## Part 4. Обновление ОС


##### Обновить системные пакеты до последней на момент выполнения задания версии.  

- После обновления системных пакетов, если ввести команду обновления повторно, должно появится сообщение, что обновления отсутствуют.


## Part 5. Использование команды **sudo**





##### Разрешить пользователю, созданному в [Part 2](#part-2-создание-пользователя), выполнять команду sudo. 



## Part 6. Установка и настройка службы времени



##### Настроить службу автоматической синхронизации времени.  

- Вывести время, часового пояса, в котором вы сейчас находитесь.

## Part 7. Установка и использование текстовых редакторов 



##### 1. Установить текстовые редакторы **VIM** (+ любые два по желанию **NANO**, **MCEDIT**, **JOE** и т.д.)  
##### 2. Используя каждый из трех выбранных редакторов, создайте файл *test_X.txt*, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений.  

##### 3. Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений.

##### 4. Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое.


## Part 8. Установка и базовая настройка сервиса **SSHD**



##### 1. Установить службу SSHd.  
##### 2. Добавить автостарт службы при загрузке системы.  
##### 3. Перенастроить службу SSHd на порт 2022.  
##### 4. Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи.

##### 5. Перезагрузить систему.

- Вывод команды netstat -tan должен содержать  
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  
(если команды netstat нет, то ее нужно установить)


## Part 9. Установка и использование утилит **top**, **htop**


##### Установить и запустить утилиты top и htop.  

- По выводу команды top определить и написать в отчёте:
  - uptime
  - количество авторизованных пользователей
  - общую загрузку системы
  - общее количество процессов
  - загрузку cpu
  - загрузку памяти
  - pid процесса занимающего больше всего памяти
  - pid процесса, занимающего больше всего процессорного времени
- В отчёт вставить скрин с выводом команды htop:
  - отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME
  - отфильтрованному для процесса sshd
  - с процессом syslog, найденным, используя поиск 
  - с добавленным выводом hostname, clock и uptime  

## Part 10. Использование утилиты **fdisk**



##### Запустить команду fdisk -l.

- В отчёте написать название жесткого диска, его размер и количество секторов, а также размер swap.

## Part 11. Использование утилиты **df** 



##### Запустить команду df.  
- В отчёте написать для корневого раздела (/):
  - размер раздела
  - размер занятого пространства
  - размер свободного пространства
  - процент использования
- Определить и написать в отчёт единицу измерения в выводе.  

##### Запустить команду df -Th.
- В отчёте написать для корневого раздела (/):
    - размер раздела
    - размер занятого пространства
    - размер свободного пространства
    - процент использования
- Определить и написать в отчёт тип файловой системы для раздела.

## Part 12. Использование утилиты **du**



##### 1. Запустить команду du.
##### 2. Вывести размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
##### 3. Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)


## Part 13. Установка и использование утилиты **ncdu**



##### Установить утилиту ncdu.
##### Вывести размер папок /home, /var, /var/log.

- Размеры должны примерно совпадать с полученными в [Part 12](#part-12-использование-утилиты-du).


## Part 14. Работа с системными журналами



##### Открыть для просмотра:
##### 1. /var/log/dmesg
##### 2. /var/log/syslog
##### 3. /var/log/auth.log  

- Написать в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему.
- Перезапустить службу SSHd.
- Вставить в отчёт скрин с сообщением о рестарте службы (искать в логах).

## Part 15. Использование планировщика заданий **CRON**



##### Используя планировщик заданий, запустите команду uptime через каждые 2 минуты.
- Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении.
- Вывести на экран список текущих заданий для CRON.
- Вставить в отчёт скрины со строчками о выполнении и списком текущих задач.

##### Удалите все задания из планировщика заданий.
- В отчёт вставьте скрин со списком текущих заданий для CRON.

